# year_project
-------------------
Годовой проект Князева Дмитрия и Липасова Максима
------------------
> Это будет nfc замок вместе с сервером, с помощью которого он работает.

1) Замок реализован на базе Arduino, запрограммирован на c++
2) Сервер реализован на языке Python с помощью фреймворка Flask

Возможности сервера:
-----
> 1. **/check** POST - проверка ученика
>- Принимает на вход json вида {"card_id": "(id карточки)"}
>- В случае ошибки возвращает json вида {"error": "(Описание ошибки)", "access": "false"}
>- Успещный ответ: {"access": "true", "student_id": "(id ученика)"", "error": ""}
------
> 2. **/add_student** POST - добавление ученика 
> - Принимает на вход json вида {"name": "(Имя ученика)", "surname": "(Фамилия ученика)"", "patronymic": "(Отчество ученика)"", "grade": "(Класс ученика)", "card_id": "(Номер карты ученика)", "letter": "Буква класса ученика"}, все поля обязательны
> - В случае ошибки возвращает json вида {"error": "(Описание ошики)";
> - Успешный ответ: {"id": "(id добавленного ученика}", "error": ""}
 ---------
>3. **/get_student/<card_id>** GET - получения ученика по id карточки
> - card_id - id карточки
> - В случае несуществующего id карточки - {"error": "Несуществующий ученик"}
> - Ответ сервера: {"card_id": "(id карточки)"
                    "student": {"name": "(Имя ученика)",
                                "surname": "(Фамилия ученика)",
                                "patronymic": "(Отчество)",
                                "form": "(Номер класса)",
                                "letter": "(Буква класса)",
                                "form_id": "(id класса)"
                                }}
-----
> 4. **/students/<student_id>** PATCH - обновлене даных о пользователе 
> - Принимает на вход json с любыми из этих полей: "name": "(Имя ученика)",
                                "surname": "(Фамилия ученика)",
                                "patronymic": "(Отчество)",
                                "form": "(Номер класса)",
                                "letter": "(Буква класса)",
                                "form_id": "(id класса)"
                                }
> - В случае ошибки возвращает json вида {"error": (ошибка)}
> - Ответ от сервера - json со всеми данными о пользователе - {"student": {"name": student2.name,
                                "surname": student2.surname,
                                "patronymic": student2.second_name,
                                "form": form.grade,
                                "letter": form.letter,
                                "form_id": form.form_id
                                }}
